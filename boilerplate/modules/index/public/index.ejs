<!doctype html>
<title><%- title %> codepad</title>
<meta charset="utf-8" />

<link rel="stylesheet" href="/codemirror/theme/<%- theme %>.css">
<link rel="stylesheet" href="/filetree.css">

<script src="/angular.min.js" type="text/javascript"></script>
<script src="/angular-sanitize.min.js" type="text/javascript"></script>

<link rel="stylesheet" type="text/css" href="/index.css" />
<link rel="stylesheet" href="/font-awesome.min.css">

<script>
    var app = angular.module('app', []);
</script>

<script src="/app.rootScope.js" type="text/javascript"></script>
<script src="/app.treeController.js" type="text/javascript"></script>
<script src="/socket.io/socket.io.js" type="text/javascript"></script>


<body ng-app="app" class="cm-s-<%- theme %> CodeMirror">

    <div id="topbar">
        <button class="btn" ng-click="files()"><i class="fa fa-folder"></i></button>
        <button class="btn" ng-click="play()"><i class="fa fa-play"></i></button>
        <button class="btn" ng-click="logs()"><i class="fa fa-list"></i></button>
        <button class="btn" ng-click="shell()"><i class="fa fa-terminal"></i></button>
        <button class="btn" ng-click="beautify()"><i class="fa fa-indent"></i></button>
        <button class="btn" ng-click="push()"><i class="fa fa-download"></i></button>
        <text ng-if="status" class="status_red_{{status_red}}" id="status">{{status}}</text>
        <form id="search">
            <input id="right_search" ng-model="$root.search_input" ng-submit="search()" placeholder="Search .."></input>
            <button id="right_button" class="btn" ng-disabled="!$root.search_input" ng-click="search()"><i class="fa fa-search"></i></button>
            <input id="right_replace" ng-disabled="!$root.search_input" ng-model="$root.replace_input" ng-submit="search()" placeholder="Replace .."></input>
        </form>
    </div>

    <div ng-controller="treeController" id="filetree" class="filetree">
        <treeview files="files"></treeview>
    </div>

    <div id="paddiv">
        <iframe ng-src="{{pad}}" id="padframe"></iframe>
    </div>

    <div id="logbar">
        <text ng-if="notice" class="" id="notice" ng-click="$root.pad='/p'+$root.ntc.filepath">{{notice}}</text>
        <text ng-if="logline" class="" id="logline" ng-bind-html="logline" ng-click="logs()">{{logline}}</text>

    </div>

</body>
